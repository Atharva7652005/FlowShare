{% load static %}
<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Streamify — Drop Files</title>
  <link rel="stylesheet" href="{% static 'css/drop_file.css' %}">
  <!-- Favicon -->
  <link rel="icon" href="https://cdn-icons-png.flaticon.com/512/2965/2965335.png" type="image/x-icon">
  <style>
    /* Back Link */
    .back-link {
      position: absolute;
      top: 20px;
      left: 20px;
      color: rgba(255, 255, 255, 0.7);
      text-decoration: none;
      font-weight: 500;
      z-index: 10;
      transition: 0.3s;
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .back-link:hover {
      color: white;
      transform: translateX(-3px);
    }

    /* White Placeholder */
    ::placeholder {
      color: rgba(255, 255, 255, 0.7) !important;
      opacity: 1;
    }
  </style>
</head>

<body>

  <!-- Back to Home -->
  <a href="{% url 'home' %}" class="back-link">
    <svg width="20" height="20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18" />
    </svg>
    Back to Home
  </a>

  <!-- Animated Background -->
  <div class="background">
    <div class="orb orb1"></div>
    <div class="orb orb2"></div>
    <div class="orb orb3"></div>
  </div>

  <div class="container" role="main">
    <div class="top">
      <div>
        <h1>Drop & Share Files</h1>
        <p class="muted small">Create a temporary room ID, add files, then upload. Files are persisted only on upload.
        </p>
      </div>

      <div class="controls">
        <div class="id-box" id="idBox" aria-live="polite" title="Storage ID">
          <div style="font-size:13px;color:rgba(255,255,255,0.6)">Storage ID</div>
          <div style="display:flex;gap:8px;align-items:center">
            <div class="id-val" id="storageId">—</div>
            <button class="ghost" id="copyBtn" title="Copy ID"
              style="padding: 4px 10px; font-size: 0.8rem">Copy</button>
          </div>
        </div>
        <button id="createRoom">Create Room</button>
      </div>
    </div>

    <div id="dropArea" class="drop-area" tabindex="0" aria-label="File drop area">
      <div style="text-align:center">
        <svg width="56" height="56" viewBox="0 0 24 24" fill="none" style="opacity:0.9">
          <path d="M7 16l5-5 5 5" stroke="#6a82fb" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" />
          <path d="M12 11V21" stroke="#6a82fb" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" />
          <path d="M16 11V7a4 4 0 00-8 0v4" stroke="#6a82fb" stroke-width="1.6" stroke-linecap="round"
            stroke-linejoin="round" />
        </svg>
      </div>
      <div style="font-weight:600; font-size: 1.1rem">Drag & drop files here</div>
      <div class="muted">or <button id="pickFiles" class="ghost" style="padding:6px 12px; margin-left: 5px">select
          files</button></div>
      <div class="muted small" style="margin-top:5px; opacity: 0.6">You can add files multiple times before uploading.
      </div>
      <input id="fileInput" type="file" multiple style="display:none" />
    </div>

    <div class="file-list" id="fileList" aria-live="polite"></div>

    <div style="display:flex;gap:10px;align-items:center;margin-top:14px;justify-content:flex-end">
      <div id="status" class="muted small" aria-live="polite"></div>
      <button id="uploadBtn">Upload Files</button>
    </div>
  </div>

  <!-- Toast -->
  <div id="toast" style="display:none" class="toast"></div>

  <script src="{% static 'javascript/drop_file.js' %}"></script>
</body>

</html>