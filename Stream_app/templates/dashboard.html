{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Dashboard | Streamify</title>
    <link rel="stylesheet" href="{% static 'css/dashboard.css' %}">
</head>
<body>

<!-- Navbar -->
<nav class="navbar">
    <div class="nav-brand">Streamify</div>
    <button 
        onclick="window.location.href='{% url 'logout' %}'" 
        class="btn logout nav-btn">
        Logout
    </button>
</nav>

<div class="background">
    <div class="orb orb1"></div>
    <div class="orb orb2"></div>
    <div class="orb orb3"></div>
</div>

<div class="container">
    <h1 class="brand">Dashboard</h1>
    <p class="tagline">Welcome! Start or join your next meeting instantly.</p>

    <div class="card grid">

        <button 
            onclick="openMeeting('{% url 'new_meeting' %}')" 
            class="btn join">
            New Meeting
        </button>

        <button 
            onclick="openMeeting('{% url 'join_meeting' %}')" 
            class="btn new">
            Join Meeting
        </button>

        <button class="btn join">
            Drop File
        </button>

        <button class="btn new">
            Get File
        </button>

    </div>
</div>

<script>
let meetingWindow = null;

function openMeeting(url) {
    if (meetingWindow == null || meetingWindow.closed) {
        meetingWindow = window.open(url, "MeetingTab");
    } else {
        meetingWindow.location.href = url;
        meetingWindow.focus();
    }
}
</script>

</body>
</html>
